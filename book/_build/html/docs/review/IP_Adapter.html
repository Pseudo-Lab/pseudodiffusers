

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>IP-Adapter &#8212; Text-to-Image Generation-feat-Diffusion</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'docs/review/IP_Adapter';</script>
    <link rel="shortcut icon" href="../../_static/PseudoLab_logo.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="HyperDreamBooth" href="HyperDreamBooth.html" />
    <link rel="prev" title="T2I-Adapter" href="t2i_adapter.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/PseudoLab_logo.png" class="logo__image only-light" alt="Text-to-Image Generation-feat-Diffusion - Home"/>
    <script>document.write(`<img src="../../_static/PseudoLab_logo.png" class="logo__image only-dark" alt="Text-to-Image Generation-feat-Diffusion - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Welcome to PseudoDiffusers!!
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Preliminary Works</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="vae.html">VAE</a></li>
<li class="toctree-l1"><a class="reference internal" href="gan.html">GAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="DDPM.html">DDPM</a></li>




<li class="toctree-l1"><a class="reference internal" href="DDIM.html">DDIM</a></li>
<li class="toctree-l1"><a class="reference internal" href="A_Study_on_the_Evaluation_of_Generative_Models.html">A Study on the Evaluation of Generative Models</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Image Generation</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="cycleGAN.html">CycleGAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="StyleGAN.html">StyleGAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="diffusion_beats_GANs.html">Diffusion Models Beat GANs on Image Synthesis</a></li>
<li class="toctree-l1"><a class="reference internal" href="dalle.html">DALL-E</a></li>
<li class="toctree-l1"><a class="reference internal" href="DALLE2.html">DALL-E 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="dreambooth.html">DreamBooth</a></li>
<li class="toctree-l1"><a class="reference internal" href="ControlNet.html">ControlNet</a></li>
<li class="toctree-l1"><a class="reference internal" href="Latent_Diffusion_Model.html">Introduction</a></li>



<li class="toctree-l1"><a class="reference internal" href="Textual_Inversion.html">Textual Inversion</a></li>








<li class="toctree-l1"><a class="reference internal" href="CustomDiffusion.html">Custom Diffusion</a></li>
<li class="toctree-l1"><a class="reference internal" href="LoRA.html">LoRA</a></li>









<li class="toctree-l1"><a class="reference internal" href="I-DDPM.html">I-DDPM</a></li>
<li class="toctree-l1"><a class="reference internal" href="StyO.html">StyO</a></li>
<li class="toctree-l1"><a class="reference internal" href="imagen.html">Imagen</a></li>
<li class="toctree-l1"><a class="reference internal" href="imagen_editor.html">Imagen Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="SDEdit.html">SDEdit</a></li>
<li class="toctree-l1"><a class="reference internal" href="SDXL.html">SDXL</a></li>
<li class="toctree-l1"><a class="reference internal" href="t2i_adapter.html">T2I-Adapter</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">IP-Adapter</a></li>





<li class="toctree-l1"><a class="reference internal" href="HyperDreamBooth.html">HyperDreamBooth</a></li>
<li class="toctree-l1"><a class="reference internal" href="CM3leon.html">CM3leon</a></li>

<li class="toctree-l1"><a class="reference internal" href="Synthetic_Data_from_Diffusion_Models_Improves_ImageNet_Classification.html">Synthetic Data from Diffusion Models Improves ImageNet Classification</a></li>






<li class="toctree-l1"><a class="reference internal" href="GLIDE.html">GLIDE</a></li>
<li class="toctree-l1"><a class="reference internal" href="BBDM.html">BBDM</a></li>
<li class="toctree-l1"><a class="reference internal" href="Your_Diffusion_Model_is_Secretly_a_Zero_Shot_Classifier.html">Your Diffusion Model is Secretly a Zero-Shot Classifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="progressive_distillation.html">Progressive Distillation for Fast Sampling of Diffusion Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="ConceptLab.html">ConceptLab</a></li>
<li class="toctree-l1"><a class="reference internal" href="Diffusion_models_already_have_a_Semantic_Latent_Space.html">Diffusion Models already have a Semantic Latent Space</a></li>
<li class="toctree-l1"><a class="reference internal" href="Muse.html">Muse</a></li>


<li class="toctree-l1"><a class="reference internal" href="GIGAGAN.html">Scaling up GANs for Text-to-Image Synthesis</a></li>
<li class="toctree-l1"><a class="reference internal" href="consistency_models.html">Consistency Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="latent_consistency_models.html">Latent Consistency Models</a></li>

<li class="toctree-l1"><a class="reference internal" href="LLM_grounded_Diffusion.html">LLM Grounded Diffusion</a></li>
<li class="toctree-l1"><a class="reference internal" href="DiT.html">DiT</a></li>






<li class="toctree-l1"><a class="reference internal" href="one-step-image-translation.html">One-Step Image Translation with Text-to-Image Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="LCM-LoRA.html">LCM-LoRA: A Universal Stable-Diffusion Acceleration Module</a></li>


<li class="toctree-l1"><a class="reference internal" href="MimicBrush.html">MimicBrush: Zero-shot Image Editing with Reference Imitation</a></li>
<li class="toctree-l1"><a class="reference internal" href="one_step_diffusion_with_distribution_matching_distillation.html">One-step Diffusion with Distribution Matching Distillation</a></li>




</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Video Generation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Make_A_Video.html">Make A Video</a></li>
<li class="toctree-l1"><a class="reference internal" href="VideoLDM.html">VideoLDM</a></li>
<li class="toctree-l1"><a class="reference internal" href="AnimateDiff.html">AnimateDiff</a></li>
<li class="toctree-l1"><a class="reference internal" href="Animate_Anyone.html">Animate Anyone</a></li>
<li class="toctree-l1"><a class="reference internal" href="DreaMoving.html">DreaMoving</a></li>
<li class="toctree-l1"><a class="reference internal" href="DreamPose.html">DreamPose: Fashion Image-to-Video Synthesis via Stable Diffusion</a></li>








</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">3D Generation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="NeRF.html">NeRF : Representing Scenes as Neural Radiance Fields for View Synthesis</a></li>
<li class="toctree-l1"><a class="reference internal" href="3DGS.html">3D Gaussian Splatting for Real-Time Radiance Field Rendering</a></li>
<li class="toctree-l1"><a class="reference internal" href="Point_E.html">Point-E: A System for Generating 3D Point Clouds from Complex Prompts (Arxiv 2022)</a></li>








<li class="toctree-l1"><a class="reference internal" href="Shap-E.html">Shap-E</a></li>









<li class="toctree-l1"><a class="reference internal" href="DreamFusion.html"><strong>DreamFusion</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="magic-3d.html">Magic3D</a></li>
<li class="toctree-l1"><a class="reference internal" href="DreamBooth3D.html">Dream Booth 3D</a></li>



<li class="toctree-l1"><a class="reference internal" href="zero123plus.html">Zero123++</a></li>
<li class="toctree-l1"><a class="reference internal" href="ProlificDreamer.html">ProlificDreamer: High-Fidelity and Diverse Text-to-3D Generation with Variational Score Distillation</a></li>






<li class="toctree-l1"><a class="reference internal" href="DreamGaussian.html">DreamGaussian</a></li>





<li class="toctree-l1"><a class="reference internal" href="Coin3D.html">Coin3D</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Experiments</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../experiments/js_exp.html">Synthetic Data with Stable Diffusion for Foliar Disease Classification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../experiments/swjo_exp.html">Training DreamBooth on Naver Webtoon Face Dataset</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/pseudo-lab/text-to-image-generation-feat-diffusion" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/pseudo-lab/text-to-image-generation-feat-diffusion/issues/new?title=Issue%20on%20page%20%2Fdocs/review/IP_Adapter.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/docs/review/IP_Adapter.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>IP-Adapter</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">IP-Adapter</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#related-works">Related Works</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#text-to-image-diffusion-models">Text-to-Image Diffusion Models</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adapters-for-large-models">Adapters for Large Models</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#method">Method</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preliminaries">Preliminaries</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#image-prompt-adapter">Image Prompt Adapter</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#experiments">Experiments</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#experimental-setup">Experimental Setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comparison-with-existing-methods">Comparison with Existing Methods</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#more-results">More Results</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ablation-study">Ablation Study</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div class="admonition-information admonition">
<p class="admonition-title">Information</p>
<ul class="simple">
<li><p><strong>Title:</strong> IP-Adapter: Text Compatible Image Prompt Adapter for Text-to-Image Diffusion Models</p></li>
<li><p><strong>Reference</strong></p>
<ul>
<li><p>Paper: <a class="reference external" href="https://arxiv.org/abs/2308.06721">https://arxiv.org/abs/2308.06721</a></p></li>
<li><p>Code: <a class="github reference external" href="https://github.com/tencent-ailab/IP-Adapter">tencent-ailab/IP-Adapter</a></p></li>
<li><p>Project Page : <a class="reference external" href="https://ip-adapter.github.io">https://ip-adapter.github.io</a></p></li>
</ul>
</li>
<li><p><strong>Author:</strong> Kyeongmin Yu</p></li>
<li><p><strong>Last updated on Sep. 21, 2024</strong></p></li>
</ul>
</div>
<section class="tex2jax_ignore mathjax_ignore" id="ip-adapter">
<h1>IP-Adapter<a class="headerlink" href="#ip-adapter" title="Permalink to this heading">#</a></h1>
<blockquote>
<div><p>ğŸ“Œ ë¬¸ì œìƒí™© <br />
text-to-image diffusion model(T2I diffusion model)ì´ ìƒì„±í•˜ëŠ” ì´ë¯¸ì§€ í’ˆì§ˆì€ í›Œë¥­í•˜ì§€ë§Œ text promptë¥¼ í†µí•´ ì›í•˜ëŠ” í˜•íƒœì˜ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ ì–´ë µë‹¤. ë³µì¡í•œ prompt engineeringì„ ì‹œë„í•˜ê±°ë‚˜, image promptë¥¼ í™œìš©í•  ìˆ˜ë„ ìˆì§€ë§Œ ì‚¬ì „í•™ìŠµëœ ëª¨ë¸ì„ fine-tuningí•˜ê²Œ ë˜ë©´ ë§ì€ ë¦¬ì†ŒìŠ¤ê°€ í•„ìš”í•  ë¿ë§Œ ì•„ë‹ˆë¼ í•´ë‹¹ ë°©ì‹ì€ ë²”ìš©ì„±, í˜¸í™˜ì„±ë„ ë–¨ì–´ì§„ë‹¤. <br />
<br />
ğŸ“Œ í•´ê²°ë°©ì•ˆ <br />
<strong>cross-attentionì„ text featuresì™€ image featuresë¡œ decouplingí•œë‹¤.</strong> ê¸°ì¡´ í•™ìŠµëœ diffusion modelì€ text featureì— ë§ì¶° í•™ìŠµëœ ìƒíƒœì´ë¯€ë¡œ ê¸°ì¡´ layerì— image featureë¥¼ ë„£ê²Œ ë˜ë©´ image featureì™€ text featureë¥¼ alignì„ ìˆ˜í–‰í•˜ê²Œ ë˜ë¯€ë¡œ ê¸°ì¡´ cross-attention layer í•˜ë‚˜ë¥¼ í†µí•´  image-featureì™€ text-featureë¥¼ ê²°í•©í•˜ëŠ” ê²ƒì€ ì ì ˆí•˜ì§€ ì•Šë‹¤. <br />
<br />
ğŸ“Œ  ë…¼ë¬¸ì˜ ê°•ì </p>
<ul class="simple">
<li><p>ì–´ë–¤ ëª¨ë¸ êµ¬ì¡°ì—ë„ í™œìš©ê°€ëŠ¥í•˜ë‹¤.</p></li>
<li><p>ì ì€ ìˆ˜ì˜ íŒŒë¼ë¯¸í„°(22M)ë§Œ ì¶”ê°€ì ìœ¼ë¡œ í•™ìŠµí•˜ë¯€ë¡œ ê°€ë³ë‹¤.</p></li>
<li><p>ê¸°ì¡´ controllable toolsì— ë§ë¶™ì—¬ ì“¸ ìˆ˜ë„ ìˆë‹¤.</p></li>
</ul>
</div></blockquote>
<figure class="align-default" id="id1">
<a class="mb-1 reference internal image-reference" href="../../_images/main.jpeg"><img alt="IP-Adapterë¥¼ í™œìš©í•œ ì´ë¯¸ì§€ í•©ì„±" class="mb-1" src="../../_images/main.jpeg" style="width: 800px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 268 </span><span class="caption-text">IP-Adapterë¥¼ í™œìš©í•œ ì´ë¯¸ì§€ í•©ì„± <a class="reference external" href="https://arxiv.org/abs/2308.06721">ì¶œì²˜</a></span><a class="headerlink" href="#id1" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">#</a></h1>
<p><strong>:image promptì˜ í•„ìš”ì„±ê³¼ ê¸°ì¡´ ì—°êµ¬ì—ì„œ image promptë¥¼ ì‚¬ìš©í•´ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ë ¤ëŠ” ì‹œë„ì˜ ì¢…ë¥˜ì™€ ì¥ë‹¨ì ì„ ë§í•œë‹¤.</strong></p>
<p>ë³µì¡í•œ sceneì´ë‚˜ conceptì„ ì…ë ¥í• ë•Œ ì´ë¯¸ì§€ í˜•íƒœë¡œ ì…ë ¥í•˜ëŠ” ê²ƒì´ ê°„í¸í•˜ê³  íš¨ê³¼ì ì´ë‹¤.
image prompt + text prompt(â€œan image is worth a thousand wordsâ€)</p>
<figure class="align-default" id="id2">
<a class="mb-1 reference internal image-reference" href="../../_images/IMG_4891.png"><img alt="ì¹´í˜" class="mb-1" src="../../_images/IMG_4891.png" style="width: 40%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 269 </span><span class="caption-text">â€œë‚´ì¸„ëŸ´ í’ìœ¼ë¡œ ì¹´í˜ë¥¼ ê¾¸ë¯¸ê³  ì—¬ëŸ¬ ì‹ë¬¼ì„ ë‘ì–´ ì¥ì‹í•˜ê³  ì‹¶ì–´. ë‚´ê°€ ì¢‹ì•„í•˜ëŠ” ì‹ë¬¼ì€ ìŠ¤ë…¸ìš° ì‚¬íŒŒì´ì–´, í˜¸ì•¼, ìë¯¸ì˜¤ì¿¨ì¹´ìŠ¤ë“± ì´ê³ , ì˜ìì™€ í…Œì´ë¸”ì€ ì›ëª©ì„ ì„ í˜¸í•´.â€</span><a class="headerlink" href="#id2" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>DALL-E2ëŠ” ì²˜ìŒìœ¼ë¡œ image promptë¥¼ ì§€ì›í•œ ëª¨ë¸ìœ¼ë¡œ, T2I prior modelì´ image embeddingì„ ì¡°ê±´ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ë„ë¡ í–ˆë‹¤. í•˜ì§€ë§Œ ê¸°ì¡´ ëŒ€ë¶€ë¶„ì˜ T2I ëª¨ë¸ì€ ì£¼ë¡œ textë¥¼ ì¡°ê±´ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ëŠ” ë°©ì‹ì´ì—ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ stable diffusion(SD) ëª¨ë¸ì˜ ê²½ìš° CLIP text encoderë¡œ ë¶€í„° text embeddingì„ ë½‘ì•„ë‚´ ì‚¬ìš©í–ˆë‹¤.</p>
<p>ë³¸ ë…¼ë¬¸ì—ì„œëŠ” â€œimage promptë¥¼ ê¸°ì¡´ T2I ëª¨ë¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ì§€â€, image promptë¥¼ ì‚¬ìš©í•œ T2I ì´ë¯¸ì§€ ìƒì„±ì„ ë‹¨ìˆœí•œ ë°©ì‹ìœ¼ë¡œ ê°€ëŠ¥ì¼€ í•œë‹¤.</p>
<figure class="align-default" id="id3">
<a class="mb-1 reference internal image-reference" href="../../_images/image.png"><img alt="ë¹„êµë¥¼ ìœ„í•œ DALL-E2(unCLIP) êµ¬ì¡°" class="mb-1" src="../../_images/image.png" style="width: 800px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 270 </span><span class="caption-text">ë¹„êµë¥¼ ìœ„í•œ DALL-E2(unCLIP) êµ¬ì¡° <a class="reference external" href="https://arxiv.org/abs/2204.06125">ì¶œì²˜</a></span><a class="headerlink" href="#id3" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id4">
<a class="mb-1 reference internal image-reference" href="../../_images/image11.png"><img alt="ë¹„êµë¥¼ ìœ„í•œ Stable Diffusionì˜ êµ¬ì¡°" class="mb-1" src="../../_images/image11.png" style="width: 800px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 271 </span><span class="caption-text">ë¹„êµë¥¼ ìœ„í•œ Stable Diffusionì˜ êµ¬ì¡° êµ¬ì¡° <a class="reference external" href="https://arxiv.org/abs/2112.10752">ì¶œì²˜</a></span><a class="headerlink" href="#id4" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>SD Image Variationsì™€ Stable UnCLIPê³¼ ê°™ì€ ê¸°ì¡´ ì—°êµ¬ì—ì„œ image promptë¥¼ ì‚¬ìš©í•œ ì´ë¯¸ì§€ ìƒì„±ì„ ìœ„í•´ text-conditioned diffusion modelsì„ image embeddingì„ ì‚¬ìš©í•´ ì§ì ‘ fine-tuningí•˜ë ¤ëŠ” ì‹œë„ë¥¼ í–ˆë‹¤. í•˜ì§€ë§Œ ë§ì€ ì–‘ì˜ ì»´í“¨í„° ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ê³¼ ê¸°ì¡´ T2I ìƒì„±ëŠ¥ë ¥ ì €í•˜, ì¬ì‚¬ìš©ì„± ì €í•˜ë¼ëŠ” ë‹¨ì ì´ ìˆì—ˆë‹¤. ë˜í•œ í•´ë‹¹ ë°©ì‹ì€ ControlNetê³¼ ê°™ì€ ê¸°ì¡´ structural control toolsê³¼ í˜¸í™˜ë˜ì§€ ì•Šì•˜ë‹¤. ì´ëŠ” downstream applicationì— ì¹˜ëª…ì ì´ë‹¤.</p>
<p>ì´ë¥¼ í”¼í•˜ê¸° ìœ„í•´ diffusion model ìì²´ë¥¼ fine-tuningí•˜ì§€ ì•Šê³  text encoderë¥¼ image encoderë¡œ êµì²´í•˜ëŠ” ë°©ì‹ë„ ìˆì—ˆì§€ë§Œ text promptë¥¼ ì§€ì›í•  ìˆ˜ ì—†ê²Œ ë˜ê³  ì´ë¯¸ì§€ í’ˆì§ˆì´ ì¶©ë¶„í•˜ì§€ ì•Šë‹¤ëŠ” ë‹¨ì ì´ ìˆì—ˆë‹¤.</p>
<p>ìµœê·¼ì—ëŠ” T2I base modelì„ ê±´ë“œë¦¬ì§€ ì•Šê³  ì¶”ê°€ì ì¸ ë„¤íŠ¸ì›Œí¬ë¥¼ ì´ìš©í•´ image promptë¥¼ ì§€ì›í•˜ëŠ” ì—°êµ¬ë“¤ì´ ìˆì—ˆë‹¤. ControlNet, T2I-Adapterì™€ ê°™ì€ ì—°êµ¬ë“¤ì€ ëŒ€ë¶€ë¶„ sketch, depth map, segmenation map ë“±ì˜ ì¶”ê°€ì ì¸ ì…ë ¥ì„ í™œìš©í–ˆë‹¤. ë˜í•œ T2I-Adapterë‚˜ Uni-ControlNet ê°™ì´reference imageë¥¼ ì…ë ¥í•´ style ì´ë‚˜ conceptì„ ì „ë‹¬í•˜ë ¤ëŠ” ì‹œë„ë„ ìˆì—ˆë‹¤. ì´ëŸ° íë¦„ì˜ ì—°êµ¬ë“¤ì€ CLIP image encoderì—ì„œ image embeddingì„ ì¶”ì¶œí•˜ì—¬ ì¶”ê°€ trainable networkì— ìƒˆë¡œìš´ featureë“¤ì„ mappingí•˜ì—¬ text featureì™€ ìœµí•©í•˜ê³ ì í–ˆë‹¤. ê¸°ì¡´ text featureëŒ€ì‹  text feature+image featureë¥¼ ë””í“¨ì „ ëª¨ë¸ ë‚´ UNet êµ¬ì¡°ì— ë„£ì–´ promptì— ë„£ì€ ì´ë¯¸ì§€ì— ì í•©í•œ(faithful) ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ê³ ì í–ˆë‹¤. ì´ëŸ° ì—°êµ¬ë“¤ì„ í†µí•´ image promptì˜ ê°€ëŠ¥ì„±ì„ ë³¼ìˆ˜ ìˆì—ˆì§€ë§Œ ê·¸ ì¶©ì‹¤ë„ê°€ ì¶©ë¶„í•˜ì§€ ì•Šì•˜ë‹¤. ë˜í•œ ì´ë¯¸ì§€ í’ˆì§ˆì´ fine-tuningëœ image prompt modelë³´ë‹¤ ë‚˜ë¹´ë‹¤.</p>
<figure class="align-default" id="id5">
<a class="mb-1 reference internal image-reference" href="../../_images/compare_table.png"><img alt="ê¸°ì¡´ ëª¨ë¸ê³¼ IP-Adapter ë¹„êµ" class="mb-1" src="../../_images/compare_table.png" style="width: 800px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 272 </span><span class="caption-text">ê¸°ì¡´ ëª¨ë¸ê³¼ IP-Adapter ë¹„êµ <a class="reference external" href="https://arxiv.org/abs/2308.06721">ì¶œì²˜</a></span><a class="headerlink" href="#id5" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p><strong>image promptë¥¼ ì§€ì›í•˜ëŠ” ê¸°ì¡´ ë°©ì‹</strong></p>
<ul class="simple">
<li><p>input image embedding to T2I model</p></li>
<li><p>base model fine-tuning</p></li>
<li><p>text encoder â†’ image encoder</p></li>
<li><p>additional network</p></li>
</ul>
<p>ë³¸ ë…¼ë¬¸ì—ì„œëŠ” ì•ì„œ ì–¸ê¸‰í•œ ë¬¸ì œì ì˜ ì›ì¸ì„ T2I modelë‚´ì˜ cross-attentionì´ë¼ê³  ë³´ê³  ìˆë‹¤. <strong>ì‚¬ì „í•™ìŠµëœ cross-attentionì—ì„œ key, value projection weightsì€ text featureì— ë§ê²Œ í›ˆë ¨ë˜ì–´ ì‡ëŠ” ìƒíƒœì´ë‹¤.</strong>
ê²°ê³¼ì ìœ¼ë¡œ image featureì™€ text featureë¥¼ cross-attention layerì—ì„œ í•©ì³ì§€ëŠ”ë° ì´ë•Œ image-specific íŠ¹ì„±ë“¤ì´ ë¬´ì‹œë˜ì–´ reference imageì— ì•„ì£¼ ì¶©ì‹¤í•œ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ì§€ ëª»í•˜ê³  coarse-grained controllable generation(e.g., image style)ë§Œ ë‹¬ì„± ê°€ëŠ¥í•´ì§„ë‹¤.</p>
<p>ë§ˆì§€ë§‰ìœ¼ë¡œ ì•ì„  ì—°êµ¬ì˜ ë¬¸ì œì ë“¤ì„ ê·¹ë³µí•œ íš¨ê³¼ì ì¸ image prompt adapter, IP-Adapterë¥¼ ì œì•ˆí•œë‹¤. íŠ¹íˆ IP-Adapterì˜ ê²½ìš° decoupled cross-attention mechanismì„ ì‚¬ìš©í•´ text featureì™€ image featureë¥¼ ë¶„ë¦¬í•œë‹¤. image featureë¥¼ ìœ„í•´ base modelë‚´ ëª¨ë“  UNet cross-attention layerì— cross-attention layer ë¥¼ ì¶”ê°€í•˜ì—¬ í›ˆë ¨ë‹¨ê³„ì—ì„œëŠ” ì ì€ ìˆ˜ì˜ íŒŒë¼ë¯¸í„°(22M)ë§Œ í›ˆë ¨í•œë‹¤. ë³¸ ë…¼ë¬¸ì—ì„œ ì œì•ˆí•˜ëŠ” IP-AdapterëŠ” ë§¤ìš° ê°€ë³ê³  íš¨ê³¼ì ì´ë‹¤. ë˜í•œ ì¼ë°˜í™” ëŠ¥ë ¥(generalization capability)ê°€ ë†’ê³  text promptì™€ë„ ì˜ ì–´ìš¸ë¦°ë‹¤(compatible).</p>
<p><strong>IP-Adapterì—ì„œ ì œì•ˆí•˜ëŠ” ë°©ì‹</strong></p>
<ul class="simple">
<li><p>additional cross-attention layer in UNet of diffusion model</p></li>
<li><p>reusable and flexible (base + IP-Adapter + ControlNetê°€ëŠ¥)</p></li>
<li><p>multimodal compatibility (image prompt + text prompt)</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="related-works">
<h1>Related Works<a class="headerlink" href="#related-works" title="Permalink to this heading">#</a></h1>
<section id="text-to-image-diffusion-models">
<h2>Text-to-Image Diffusion Models<a class="headerlink" href="#text-to-image-diffusion-models" title="Permalink to this heading">#</a></h2>
<p>large T2I modelì€ í¬ê²Œ autoregressive models, diffusion models ë‘ ë¶€ë¥˜ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤. DALLE, CogView, Make-A-Sceneê³¼ ê°™ì€ ì´ˆê¸° ì—°êµ¬ë“¤ì€ autoregressive model ì´ì—ˆë‹¤. autoregressive modelì€ VQ-VAEì™€ ê°™ì€ image tokenizerë¥¼ ì‚¬ìš©í•´ imageë“¤ì„ tokení™” í•˜ì—¬ autoregressive transformerì— text tokenì„ ì´ìš©í•´ image tokenì„ ì˜ˆì¸¡í•˜ê²Œ í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í•™ìŠµí–ˆë‹¤. í•˜ì§€ë§Œ autoregressive modelì€ íŒŒë¼ë¯¸í„° ìˆ˜ê°€ ë§ê³  ê³ í™”ì§ˆ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ ë§ì€ ë¦¬ì†ŒìŠ¤ê°€ í•„ìš”í–ˆë‹¤.</p>
<p>ìµœê·¼ì—ëŠ” diffusion models(DM)ì´ ë“±ì¥í•˜ì—¬ T2I ìƒì„±ëª¨ë¸ì˜ state-of-the-artë¥¼ ë‹¬ì„±í–ˆë‹¤. ì´ì „ì— GLIDEëŠ” cascaded diffusion êµ¬ì¡°ë¥¼ í†µí•´ 64x64 â†’ 256x256 ì´ë¯¸ì§€ë¥¼ ìƒì„±í–ˆë‹¤.
DALL-E2ì˜ ê²½ìš°, text promptë¡œ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ë„ë¡ í•™ìŠµëœ ëª¨ë¸ì„ í™œìš©í•´ image embeddingì„ ì¡°ê±´ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ìƒì„±í–ˆë‹¤. DALL-E2ëŠ” text promptë¥¼ í†µí•œ ì´ë¯¸ì§€ ìƒì„±ì„ ì§€ì›í•˜ì§€ ì•Šì•˜ë‹¤. text ì´í•´ë„ë¥¼ ë†’ì´ê¸° ìœ„í•´ Imagenì€ ê±°ëŒ€ transformer language modelì¸ T5ë¥¼ ë„ì…í–ˆë‹¤. Re-Imagenì˜ ê²½ìš° ë“œë¬¼ê±°ë‚˜ í•™ìŠµí•œì ì—†ëŠ” entityì— ëŒ€í•œ imageì— ëŒ€í•œ ì¶©ì„±ë„ë¥¼ ê°œì„ í–ˆë‹¤.
SDëŠ” latent diffusion modelë¡œ pixel spaceê°€ ì•„ë‹Œ latent spaceìƒì—ì„œ ë™ì‘í•˜ê²Œ í•˜ì—¬ diffusion modelë§Œ ì‚¬ìš©í•˜ì—¬ ê³ í’ˆì§ˆì˜ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•  ìˆ˜ ìˆê²Œ í–ˆë‹¤. text ì¼ì¹˜ë„(alignment)ë¥¼ ë†’ì´ê¸° ìœ„í•´ eDiff-Iì˜ ê²½ìš° T2I diffusion modelê³¼ ìœ ì‚¬í•œ ë””ìì¸ì„ ì±„íƒí•˜ì—¬ T5 text, CLIP text embedding, CLIP image embeddingë“± ë©€í‹°ëª¨ë‹¬ ì¡°ê±´ì„ í™œìš©í–ˆë‹¤. Versatile Diffusionì€ unified multi-flow diffusion frameworkë¥¼ ì´ìš©í•´ T2I, I2T, ë“± ë‹¤ì–‘í•œ ìƒì„±ë°©ì‹ì„ í•˜ë‚˜ì˜ ëª¨ë¸ë¡œ ê°€ëŠ¥í•˜ê²Œ í–ˆë‹¤. controllable image ìƒì„± ë©´ì—ì„œëŠ” Composerê°€ image embeddingì„ í™œìš©í•œ joint fine-tuningì„ ì‹œë„í–ˆì—ˆë‹¤. RAPHAELì€ mixture of experts(MoEs) ì „ëµì„ ì‚¬ìš©í•´ T2I modelì˜ ì´ë¯¸ì§€ í’ˆì§ˆì„ í–¥ìƒì‹œì¼°ë‹¤.</p>
<p>DALL-E2ëŠ” image promptë¥¼ í†µí•´ í•´ë‹¹ í’ì˜ ì´ë¯¸ì§€ë“¤ì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì—ì„œ ë§¤ë ¥ì ì´ë‹¤. ë˜í•œ image promptë¥¼ T2I modelì—ì„œ ì§€ì›í•˜ê³ ì í•˜ëŠ” ì—°êµ¬ë“¤ì´ ìˆë‹¤. SD Image Variants modelì€ ë³€ê²½í•œ SDë¥¼ fine-tuningí•˜ì—¬ text featureë¥¼ CLIP image encoderì˜ image embeddingìœ¼ë¡œ êµì²´í•  ìˆ˜ ìˆê²Œ í–ˆë‹¤. Stable unCLIP ë˜í•œ SDë¥¼ fine-tuningí•˜ì—¬ time embeddingì— image embeddingì„ ì¶”ê°€í–ˆë‹¤. ê¸°ì¡´ ëª¨ë¸ì„ fine-tuningí•˜ëŠ” ë°©ì‹ì€ ê³ í’ˆì§ˆì˜ ì´ë¯¸ì§€ë¥¼ ìƒì„± í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆì§€ë§Œ ë¹„êµì  training costê°€ ë†’ìœ¼ë©° ê¸°ì¡´ tools(e.g.,ControlNet)ê³¼ í˜¸í™˜ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤.</p>
</section>
<section id="adapters-for-large-models">
<h2>Adapters for Large Models<a class="headerlink" href="#adapters-for-large-models" title="Permalink to this heading">#</a></h2>
<p>ê±°ëŒ€í•œ ì‚¬ì „í•™ìŠµëœ ëª¨ë¸ ì „ì²´ë¥¼ fine-tuningí•˜ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì ì´ë‹¤. ì´ ëŒ€ì•ˆìœ¼ë¡œ ë– ì˜¤ë¥´ëŠ” ê²ƒì´ adapterë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì¸ë°, ê¸°ì¡´ ëª¨ë¸ì€ freezeì‹œì¼œ í•™ìŠµí•˜ëŠ” íŒŒë¼ë¯¸í„° ìˆ˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤. adapterëŠ” NLPì—ì„œ ì˜¤ë«ë™ì•ˆ ì‚¬ìš©ë˜ë˜ ë°©ì‹ì´ë‹¤. ìµœê·¼ì—ëŠ” LLMì˜ vision-language ì´í•´ë¥¼ ìœ„í•´ adapterë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤.</p>
<p>T2I modelì˜ ìµœê·¼ ì¸ê¸°ë¡œ ì¸í•´ adapterë“¤ë„ ì—¬ê¸°ì— ì¶”ê°€ì ì¸ controlì„ ì£¼ëŠ” ë°©í–¥ìœ¼ë¡œ ì‚¬ìš©ë˜ê³  ìˆë‹¤. ControlNet(ì•„ë˜ ì‚¬ì§„ ì°¸ê³ )ì˜ ê²½ìš° ì‚¬ì „í•™ìŠµëœ T2I diffusion modelì— task-specificí•œ ì…ë ¥
(e.g.,canny edge)ì„ ì¶”ê°€ì ìœ¼ë¡œ ë„£ê¸°ìœ„í•´ adapterë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ë³´ì—¬ì£¼ì—ˆë‹¤. ìœ ì‚¬í•œ ì‹œê¸°ì— T2I-Adapter(ì•„ë˜ ì‚¬ì§„ ì°¸ê³ )ë„ ë“±ì¥í–ˆëŠ”ë° ë³´ë‹¤ ê°„ë‹¨í•˜ê³  ê°€ë²¼ìš´ í˜•íƒœë¡œ ìƒ‰ì´ë‚˜ êµ¬ì¡°ì ì¸ ë©´ì—ì„œ
fine-grained controlì„ ì£¼ê³ ì í–ˆë‹¤. fine-tuningì— ì‚¬ìš©ë˜ëŠ” ë¹„ìš©ì„ ì¤„ì´ê¸° ìœ„í•´ Uni-ControlNetì€ multi-scale condition injectionì„ ì‚¬ìš©í–ˆë‹¤.</p>
<p>structural controlì™¸ì— ì´ë¯¸ì§€ ì§‘í•©ì„ í†µí•´ contentë‚˜ styleì„ ì¡°ì ˆí•˜ê³ ì í•œ ì—°êµ¬ë„ ìˆë‹¤. ControlNet Shuffleì˜ ê²½ìš° ì´ë¯¸ì§€ë“¤ì„ recomposeí•˜ë„ë¡ í•™ìŠµí•˜ì—¬ ì‚¬ìš©ìê°€ ì œê³µí•œ ì´ë¯¸ì§€ë“¤ì„ ë°”íƒ•ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ìƒì„± í•  ìˆ˜ ìˆì—ˆë‹¤. ë˜í•œ ControlNet Reference-onlyì˜ ê²½ìš°, í•™ìŠµì—†ì´ SDì— feature injectionì„ í†µí•´ ì´ë¯¸ì§€ë¥¼ ë³€í˜•í–ˆë‹¤. T2I-Adapterì˜ ìµœê·¼ ë²„ì „ì˜ ê²½ìš°, CLIP image encoderë¡œ ë¶€í„° reference imageì˜ image featureë¥¼ text featureì— ë”í•´ì¤Œìœ¼ë¡œì„œ style adapterë¡œì„œì˜ ì—­í• ë„ ê°€ëŠ¥í•˜ë‹¤. Uni-ControlNet(ì•„ë˜ ì‚¬ì§„ ì°¸ê³ )ì˜ global control adapter ë˜í•œ CLIP image encoderë¡œ ë¶€í„° ì¶”ì¶œí•œ image embeddingì„ ì‘ì€ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ projectioní•˜ condition embeddingìœ¼ë¡œ projectioní•˜ì—¬ ì‚¬ìš©í•œë‹¤. SeeCoder(ì•„ë˜ ì‚¬ì§„ ì°¸ê³ )ëŠ” ê¸°ì¡´ text encoderë¥¼ semantic context encoderë¡œ êµì²´í•˜ì—¬ image variantsë¥¼ ìƒì„±í•˜ê³ ì í–ˆë‹¤.</p>
<p><strong>ControlNet</strong></p>
<figure class="align-default" id="id6">
<a class="mb-1 reference internal image-reference" href="../../_images/image21.png"><img alt="ë¹„êµë¥¼ ìœ„í•œ ControlNetì˜ ì‘ë™ ë°©ì‹" class="mb-1" src="../../_images/image21.png" style="width: 40%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 273 </span><span class="caption-text">ë¹„êµë¥¼ ìœ„í•œ ControlNetì˜ ì‘ë™ ë°©ì‹ <a class="reference external" href="https://arxiv.org/abs/2302.05543">ì¶œì²˜</a></span><a class="headerlink" href="#id6" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id7">
<a class="mb-1 reference internal image-reference" href="../../_images/image31.png"><img alt="" class="mb-1" src="../../_images/image31.png" style="width: 40%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 274 </span><span class="caption-text">ControlNet preprocessor<a class="reference external" href="https://github.com/pytorch/pytorch/blob/main/torch/nn/modules/pixelshuffle.py">ContentShuffleDetector</a></span><a class="headerlink" href="#id7" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p><strong>Uni-ControlNet</strong></p>
<figure class="align-default" id="id8">
<a class="mb-1 reference internal image-reference" href="../../_images/image41.png"><img alt="Uni-ControlNet Architecture" class="mb-1" src="../../_images/image41.png" style="width: 40%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 275 </span><span class="caption-text">Uni-ControlNet Architecture <a class="reference external" href="https://arxiv.org/abs/2305.16322">ì¶œì²˜</a></span><a class="headerlink" href="#id8" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p><strong>T2I-Adapter</strong></p>
<figure class="align-default" id="id9">
<a class="mb-1 reference internal image-reference" href="../../_images/image61.png"><img alt="ë¹„êµë¥¼ ìœ„í•œ T2I Adapterì˜ ì‘ë™ ë°©ì‹" class="mb-1" src="../../_images/image61.png" style="width: 800px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 276 </span><span class="caption-text">ë¹„êµë¥¼ ìœ„í•œ T2I Adapterì˜ ì‘ë™ ë°©ì‹ <a class="reference external" href="https://arxiv.org/abs/2302.08453">ì¶œì²˜</a> <a class="reference external" href="https://pytorch.org/docs/stable/generated/torch.nn.PixelUnshuffle.html">PixelUnshuffle</a></span><a class="headerlink" href="#id9" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id10">
<a class="mb-1 reference internal image-reference" href="../../_images/image5.png"><img alt="ë¹„êµë¥¼ ìœ„í•œ T2I Adapterì˜ ì‘ë™ ë°©ì‹" class="mb-1" src="../../_images/image5.png" style="width: 40%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 277 </span><span class="caption-text">T2I Adapterì˜ ì¥ì  <a class="reference external" href="https://arxiv.org/abs/2302.08453">ì¶œì²˜</a></span><a class="headerlink" href="#id10" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id11">
<a class="mb-1 reference internal image-reference" href="../../_images/image71.png"><img alt="ë¹„êµë¥¼ ìœ„í•œ T2I Adapterì˜ ì‘ë™ ë°©ì‹" class="mb-1" src="../../_images/image71.png" style="width: 40%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 278 </span><span class="caption-text">T2I-adapterì˜ ê²°ê³¼ëŠ” ê¸°ì¡´ ëª¨ë¸ì˜ ê° ì¸µì˜ feature map í¬ê¸°ê°€ ë§ë„ë¡ ë”í•´ì§ <a class="reference external" href="https://arxiv.org/abs/2302.08453">ì¶œì²˜</a></span><a class="headerlink" href="#id11" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p><strong>SeeCoder</strong></p>
<figure class="align-default" id="id12">
<a class="mb-1 reference internal image-reference" href="../../_images/image81.png"><img alt="SeeCoder Architecture" class="mb-1" src="../../_images/image81.png" style="width: 40%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 279 </span><span class="caption-text">SeeCoder Architecture <a class="reference external" href="https://arxiv.org/abs/2305.16223">ì¶œì²˜</a></span><a class="headerlink" href="#id12" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="method">
<h1>Method<a class="headerlink" href="#method" title="Permalink to this heading">#</a></h1>
<section id="preliminaries">
<h2>Preliminaries<a class="headerlink" href="#preliminaries" title="Permalink to this heading">#</a></h2>
<blockquote>
<div><p>ğŸ“Œ ìƒì„±ëª¨ë¸ì˜ ì¼ì¢…ì¸ diffusion modelì˜ ì´ë¯¸ì§€ ìƒì„±ë‹¨ê³„</p>
<ol class="arabic simple">
<li><p><strong>diffusion process (forward process)</strong> <br />
T stepì˜ fixed Markov chainì„ í†µí•´ë°ì´í„°ì— gaussian noiseë¥¼ ì ì°¨ ì¶”ê°€.</p></li>
<li><p><strong>denoising process</strong> <br />
gaussian noiseë¡œ ë¶€í„° learnable modelì„ í†µí•´ sampleì„ ìƒì„±.</p></li>
</ol>
</div></blockquote>
<p>ì¼ë°˜ì ìœ¼ë¡œ noise ì˜ˆì¸¡ì„ ìœ„í•œ diffusion model(<span class="math notranslate nohighlight">\(\epsilon_\theta\)</span>)ì˜ training objectiveëŠ” ì•„ë˜ì™€ ê°™ì´ ë‹¨ìˆœí•œ variant of variational bound ë¡œ í‘œí˜„ëœë‹¤.</p>
<div class="math notranslate nohighlight">
\[
L_{\text{simple}}=\Bbb E_{x_0, \epsilon\sim \mathcal N(0,I),c,t}\|\epsilon-\epsilon_\theta(x_t, \mathbf c,t)\|^2 \tag{1}
\]</div>
<p><span class="math notranslate nohighlight">\(x_0\)</span> ëŠ” real data, <span class="math notranslate nohighlight">\(\mathbf c\)</span> ëŠ” ì¶”ê°€ì¡°ê±´, <span class="math notranslate nohighlight">\(t\)</span> ëŠ” time stepì„ ë§í•˜ë©° <span class="math notranslate nohighlight">\([0,T]\)</span> ë‚´ì— ì†í•œë‹¤.  <span class="math notranslate nohighlight">\(x_t=\alpha_t x_0+\sigma_t\epsilon\)</span>ì€ step tì— í•´ë‹¹í•˜ëŠ” noisy dataë¥¼ ë§í•˜ê³ , <span class="math notranslate nohighlight">\(\alpha_t, \sigma_t\)</span>ëŠ” diffusino processë¥¼ ê²°ì •í•˜ëŠ” predefined functionì´ë‹¤. <span class="math notranslate nohighlight">\(\epsilon_\theta\)</span>ê°€ í•œë²ˆ í•™ìŠµë˜ê³  ë‚˜ë©´ ëœë¤ ë…¸ì´ì¦ˆë¡œë¶€í„° ì´ë¯¸ì§€ë¥¼ ë°˜ë³µì ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ìƒì„± ì†ë„ë¥¼ ë†’ì´ê¸° ìœ„í•´ DDIM, PNDM, DPM-solverì™€ ê°™ì€ fast samplerë¥¼ inferenceì‹œ ì‚¬ìš©í•œë‹¤.</p>
<p>conditional diffusion modelì—ì„œ classifier guidanceë¥¼ í†µí•´ ì´ë¯¸ì§€ ì •í™•ë„(fidelity)ì™€ ë‹¤ì–‘ì„±(sample diversity)ë¥¼ ë°¸ëŸ°ì‹±í•  ìˆ˜ ìˆë‹¤. ì´ëŠ” ë”°ë¡œ í•™ìŠµëœ classifierì˜ gradientë¥¼ í™œìš©í•˜ëŠ”ë°, classifierë¥¼ ë”°ë¡œ í•™ìŠµí•˜ëŠ” ë²ˆê±°ë¡œì›€ì„ ì§€ìš°ê¸° ìœ„í•´ classifier-free guidanceë¥¼ ì‚¬ìš©í•˜ê¸°ë„ í•œë‹¤. ì´ëŸ° ì ‘ê·¼ì—ì„œ conditional, unconditional diffusion modelsëŠ” í•™ìŠµì‹œ ëœë¤í•˜ê²Œ ì¡°ê±´ <span class="math notranslate nohighlight">\(c\)</span> ë¥¼ ë°°ì œí•˜ì—¬ í•©ë™ í•™ìŠµ(joint training)ëœë‹¤. samplingë‹¨ê³„ ì—ì„œëŠ” conditional modelê³¼ unconditional modelì˜ predictionì„ ëª¨ë‘ ì´ìš©í•˜ì—¬ noiseë¥¼ ê³„ì‚°í•œë‹¤.</p>
<div class="math notranslate nohighlight">
\[
\hat \epsilon_\theta(x_t,\mathbf c,t)=\mathcal w \epsilon_\theta(x_t,\mathbf c, t)+(1-\mathcal w)\epsilon_\theta(x_t,t) \tag{2}
\]</div>
<p><span class="math notranslate nohighlight">\(\mathcal w\)</span>ì€ guidance scale í˜¹ì€ guidance weightë¡œ ë¶ˆë¦¬ëŠ”ë° condition <span class="math notranslate nohighlight">\(c\)</span>ì˜ ì˜í–¥ë ¥ì„ ì¡°ì ˆí•˜ê¸° ìœ„í•œ ìƒìˆ˜ê°’ì´ë‹¤. T2I diffusion modelì˜ ê²½ìš° image-text ì¼ì¹˜ì„±ì„ ë†’ì´ëŠ”ë° classifier-free guidanceê°€ í° ì—­í• ì„ í•œë‹¤.</p>
<p>ë³¸ ë…¼ë¬¸ì—ì„œëŠ” open-source SDì— IP-Adapterë¥¼ ë§ë¶™ì—¬ ì‹¤í—˜ì„ ì§„í–‰í–ˆë‹¤. SDëŠ” latent diffusion modelë¡œ frozen CLIP text encoderë¡œ ë½‘ì•„ë‚¸ text featureë¥¼ conditionìœ¼ë¡œ ì‚¬ìš©í•œë‹¤. diffusion modelì€ Unetì— attention layerê°€ ì¶”ê°€ëœ í˜•íƒœì´ë‹¤. Imagenê³¼ ê°™ì€ pixel-based diffusion modelê³¼ ë¹„êµí•´ SDëŠ” ì‚¬ì „í•™ìŠµëœ auto-encoder modelì„ í™œìš©í•´ latent spaceì—ì„œ ë™ì‘í•˜ë¯€ë¡œ íš¨ìœ¨ì ì´ë‹¤.</p>
</section>
<section id="image-prompt-adapter">
<h2>Image Prompt Adapter<a class="headerlink" href="#image-prompt-adapter" title="Permalink to this heading">#</a></h2>
<figure class="align-default" id="id13">
<a class="mb-1 reference internal image-reference" href="../../_images/image9.png"><img alt="S" class="mb-1" src="../../_images/image9.png" style="width: 800px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 280 </span><span class="caption-text">IP-Adapterì˜ ë™ì‘ë°©ì‹ <a class="reference external" href="https://arxiv.org/abs/2308.06721">ì¶œì²˜</a></span><a class="headerlink" href="#id13" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id14">
<a class="mb-1 reference internal image-reference" href="../../_images/image11.png"><img alt="ë¹„êµë¥¼ ìœ„í•œ Stable Diffusionì˜ êµ¬ì¡°" class="mb-1" src="../../_images/image11.png" style="width: 800px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 281 </span><span class="caption-text">ë¹„êµë¥¼ ìœ„í•œ Stable Diffusionì˜ êµ¬ì¡° <a class="reference external" href="https://arxiv.org/abs/2112.10752">ì¶œì²˜</a></span><a class="headerlink" href="#id14" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p><strong>Image Encoder</strong></p>
<p>pretained CLIP image encoderë¥¼ ì‚¬ìš©í•´ image promptì—ì„œ image featureë¥¼ ë½‘ì•„ëƒˆë‹¤. CLIPì€ multimodal modelë¡œ ê±°ëŒ€ image-text pair ë°ì´í„°ì…‹ìœ¼ë¡œ contrastive learningì‹œí‚¨ ëª¨ë¸ì´ë‹¤. CLIP image encoderë¥¼ í†µí•´ global image embeddingì„ ì–»ì—ˆë‹¤. ì´ëŠ” imageë¡œ ë¶€í„° í’ë¶€í•œ ë‚´ìš©(content)ì™€ ìŠ¤íƒ€ì¼ì„ ë‹´ì€ image captionê³¼ ì˜ ì¡°ì •ë˜ì–´(well-aligned) ìˆë‹¤. í•™ìŠµë‹¨ê³„ì—ì„œ CLIP image encoderëŠ” frozenë˜ì–´ í•™ìŠµë˜ì§€ ì•ŠëŠ”ë‹¤.</p>
<p><strong>Decoupled Cross-Attention</strong></p>
<p>image featureëŠ” ì‚¬ì „í•™ìŠµëœ UNetì— decoupled cross-attentionì„ í†µí•´ ê²°í•©ëœë‹¤. ì´ˆê¸° SD modelì—ì„œëŠ” CLIP text encoderë¥¼ í†µí•´ ë½‘ì•„ë‚¸ text featureë¥¼ UNetì˜ cross-attention layerì— ë„£ì—ˆë‹¤.</p>
<div class="math notranslate nohighlight">
\[
\mathbf Z'=\text{Attention}(\mathbf{Q,K,V})=\text{Softmax}(\frac{\mathbf {QK}^T}{\sqrt{d}})\mathbf V, \tag{3}
\]</div>
<p>query featureëŠ” <span class="math notranslate nohighlight">\(Z\)</span>, text featureëŠ” <span class="math notranslate nohighlight">\(c_t\)</span>, cross-attentionì˜ ê²°ê³¼ëŠ” <span class="math notranslate nohighlight">\(Zâ€™\)</span>ì´ê³ , <span class="math notranslate nohighlight">\(\mathbf{Q=ZW_q, K=c_t W_k, V=c_t W_v}\)</span>ëŠ” attention ì—°ì‚°ì˜ ê°ê° query, key, value í–‰ë ¬ì´ë‹¤. <span class="math notranslate nohighlight">\(\mathbf{W_q, W_k, W_v}\)</span>ëŠ” linear projection layersì˜ í•™ìŠµê°€ëŠ¥í•œ weigth matricesë‹¤.</p>
<p>image featureë¥¼ ì´ë¯¸ì§€ ìƒì„±ì— ë°˜ì˜í•˜ëŠ” ì§ê´€ì ì¸ ë°©ë²•ì€ cross-attentionì‹œ text feature+image featureë¡œ ê²°í•©(concatenate)í•˜ì—¬ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤. í•˜ì§€ë§Œ ì´ ë°©ë²•ì€ ì¶©ë¶„í•˜ì§€ ì•Šë‹¤ëŠ” ê²ƒì„ ë°œê²¬í•˜ì—¬ decoupled cross-attentionì„ ì œì•ˆí•œë‹¤. ì´ëŠ” cross-attention ì—ì„œ image featureì™€ text featureë¥¼ ë”°ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤. êµ¬ì²´ì ìœ¼ë¡œëŠ” ê¸°ì¡´ cross-attention layerê°€ ì¡´ì¬í•˜ë˜ ê³³ì— ìƒˆë¡œìš´ cross-attention layerë¥¼ ì¶”ê°€í•˜ì—¬ image featureë¥¼ ì²˜ë¦¬í•˜ë„ë¡ í–ˆë‹¤. image feature <span class="math notranslate nohighlight">\(c_i\)</span>ê°€ ì£¼ì–´ì§ˆë•Œ ìƒˆë¡œìš´ attention layerì˜ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p>
<div class="math notranslate nohighlight">
\[
\mathbf Z''=\text{Attention}(\mathbf{Q,K',V'})=\text{Softmax}(\frac{\mathbf{Q(K')}^T}{\sqrt{d}})\mathbf V', \tag{4}
\]</div>
<p><span class="math notranslate nohighlight">\(\mathbf{Q=ZW_q}\)</span>, <span class="math notranslate nohighlight">\(\mathbf{K'=c_t W'_k}\)</span> , <span class="math notranslate nohighlight">\(\mathbf{V'=c_t W'_v}\)</span> ëŠ” image featureë¥¼ ìœ„í•œ query, key, value í–‰ë ¬ì´ë‹¤. ì—¬ê¸°ì„œ í•µì‹¬ì€ text cross-attentionê³¼ image cross-attentionì—ì„œ ë™ì¼í•œ qeuryë¥¼ ì‚¬ìš©í–ˆë‹¤ëŠ” ì ì´ë‹¤. ê²°ê³¼ì ìœ¼ë¡œëŠ” ê° cross-attention layer ë§ˆë‹¤ 2ê°œì˜ íŒŒë¼ë¯¸í„° <span class="math notranslate nohighlight">\(\mathbf{W'_k,W'_v}\)</span> ë¥¼ ì¶”ê°€í•˜ê²Œ ëœë‹¤. ìˆ˜ë ´ì†ë„ë¥¼ ë†’ì´ê¸° ìœ„í•´ <span class="math notranslate nohighlight">\(\mathbf{W'_k,W'_v}\)</span>ëŠ” <span class="math notranslate nohighlight">\(\mathbf{W_k,W_v}\)</span>ë¡œ ì´ˆê¸°í™”í–ˆë‹¤. ê·¸ëŸ¬ë©´ ë‘ cross-attention layerì˜ ê²°ê³¼ë¥¼ ë”í•¨ìœ¼ë¡œì¨ ìµœì¢… ê²°ê³¼ë¥¼ êµ¬í•  ìˆ˜ ìˆë‹¤. decoupled cross-attentionì˜ ìµœì¢…ì ì¸ í˜•íƒœëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p>
<div class="math notranslate nohighlight">
\[
\mathbf Z^\text{new}=\text{Softmax}(\frac{\mathbf {QK}^T}{\sqrt{d}})\mathbf V + \text{Softmax}(\frac{\mathbf {Q(K')}^T}{\sqrt{d}})\mathbf V' \tag{5}
\]</div>
<div class="math notranslate nohighlight">
\[ \text{where} \space \mathbf{Q=ZW}_q,\space \mathbf{k=c}_t\mathbf W_k,\space \mathbf{K'=c}_i\mathbf W'_k, \space \mathbf{V'=c}_i\mathbf W'_v 
\]</div>
<p>ì‚¬ì „í•™ìŠµí•œ UNetì€ freezeì‹œí‚¤ê³  í›ˆë ¨ì„ ì§„í–‰í•˜ë¯€ë¡œ <span class="math notranslate nohighlight">\(\mathbf{W'_k,W'_v}\)</span> <strong>ë§Œ</strong> í•™ìŠµëœë‹¤.</p>
<p><strong>Training and Inference</strong></p>
<p>í•™ìŠµì‹œ IP-Adapterë§Œ ìµœì í™”í•˜ê³  ê¸°ì¡´ ì‚¬ì „í•™ìŠµëœ diffusion modelì€ ê³ ì •í•œë‹¤. IP-AdapterëŠ” image-text pair datasetìœ¼ë¡œ í•™ìŠµì‹œí‚¤ë©° original SDì™€ ë™ì¼í•œ objectiveë¥¼ ì‚¬ìš©í•œë‹¤.</p>
<div class="math notranslate nohighlight">
\[
L_{\text{simple}}=\Bbb E_{x_0, \epsilon\sim \mathcal N(0,I),c_t,c_i,t}\|\epsilon-\epsilon_\theta(x_t,\mathbf {c_t,c_i},t)\|^2 \tag{6}
\]</div>
<p>ë˜ randomí•˜ê²Œ image conditionì„ dropí•˜ì—¬ inference ë‹¨ê³„ì—ì„œ classifier-free guidanceë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.</p>
<div class="math notranslate nohighlight">
\[
\hat \epsilon_\theta(x_t,\mathbf {c_t,c_i},t)=\mathcal w \epsilon_\theta(x_t,\mathbf {c_t,c_i}, t)+(1-\mathcal w)\epsilon_\theta(x_t,t) \tag{7}
\]</div>
<p>image conditionì´ dropë˜ë©´  CLIP image embeddingì€ 0ìœ¼ë¡œ ì²˜ë¦¬í–ˆë‹¤. text cross-attentionê³¼ image cross-attentionì„ detachë˜ë©° inferenceì‹œ image conditionì˜ ê°€ì¤‘ì¹˜ë„ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤. <span class="math notranslate nohighlight">\(\lambda\)</span> ê°€ 0ì´ ë˜ë©´ ê¸°ì¡´ T2I ëª¨ë¸ì´ ëœë‹¤.</p>
<div class="math notranslate nohighlight">
\[
\mathbf Z^\text{new}=\text{Softmax}(\mathbf {Q,K,V})+ \lambda\cdot\text{Softmax}(\mathbf {Q,K',V'})\tag{8}
\]</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="experiments">
<h1>Experiments<a class="headerlink" href="#experiments" title="Permalink to this heading">#</a></h1>
<section id="experimental-setup">
<h2>Experimental Setup<a class="headerlink" href="#experimental-setup" title="Permalink to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>í•­ëª©</p></th>
<th class="text-center head"><p>ê°’</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>base model</p></td>
<td class="text-center"><p>SD v1.5</p></td>
</tr>
<tr class="row-odd"><td><p>image encoder</p></td>
<td class="text-center"><p>OpenCLIP ViT-H/14</p></td>
</tr>
<tr class="row-even"><td><p>resolution</p></td>
<td class="text-center"><p>512x512 (resized and center crop)</p></td>
</tr>
<tr class="row-odd"><td><p>optimizer</p></td>
<td class="text-center"><p>AdamW</p></td>
</tr>
<tr class="row-even"><td><p>learning rate</p></td>
<td class="text-center"><p>0.0001</p></td>
</tr>
<tr class="row-odd"><td><p>weight decay</p></td>
<td class="text-center"><p>0.01</p></td>
</tr>
<tr class="row-even"><td><p>libraries</p></td>
<td class="text-center"><p>Hugging Face diffusers,\ DeepSpeed SeRO-2</p></td>
</tr>
<tr class="row-odd"><td><p>GPU</p></td>
<td class="text-center"><p>8 V100</p></td>
</tr>
<tr class="row-even"><td><p>training step</p></td>
<td class="text-center"><p>1M</p></td>
</tr>
<tr class="row-odd"><td><p>batch size</p></td>
<td class="text-center"><p>8 per GPU</p></td>
</tr>
<tr class="row-even"><td><p>classifier-free guidance</p></td>
<td class="text-center"><p>0.05</p></td>
</tr>
<tr class="row-odd"><td><p>training data</p></td>
<td class="text-center"><p>LAION-2B, COYO-700M</p></td>
</tr>
<tr class="row-even"><td><p>sampler for inference</p></td>
<td class="text-center"><p>DDIM (50steps)</p></td>
</tr>
<tr class="row-odd"><td><p>guidance scale</p></td>
<td class="text-center"><p>7.5</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\lambda\)</span></p></td>
<td class="text-center"><p>1.0 for only image prompt</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="comparison-with-existing-methods">
<h2>Comparison with Existing Methods<a class="headerlink" href="#comparison-with-existing-methods" title="Permalink to this heading">#</a></h2>
<p><strong>Quantitative Comparison</strong></p>
<figure class="align-default" id="id15">
<a class="mb-1 reference internal image-reference" href="../../_images/image10.png"><img alt="ì‹¤í—˜ê²°ê³¼" class="mb-1" src="../../_images/image10.png" style="width: 800px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 282 </span><span class="caption-text">ì‹¤í—˜ê²°ê³¼ <a class="reference external" href="https://arxiv.org/abs/2308.06721">ì¶œì²˜</a></span><a class="headerlink" href="#id15" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p><strong>Qualitative Comparison</strong></p>
<figure class="align-default" id="id16">
<a class="mb-1 reference internal image-reference" href="../../_images/image111.png"><img alt="ì‹¤í—˜ê²°ê³¼" class="mb-1" src="../../_images/image111.png" style="width: 800px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 283 </span><span class="caption-text">ì‹¤í—˜ê²°ê³¼ <a class="reference external" href="https://arxiv.org/abs/2308.06721">ì¶œì²˜</a></span><a class="headerlink" href="#id16" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>(ì‹¤í—˜ ê²°ê³¼ë¥¼ ë³´ê³  IP-Adapterë¥¼ í™œìš©í•´ ìƒì„±í•œ ì´ë¯¸ì§€ê°€ referenceì™€ ì§€ë‚˜ì¹˜ê²Œ ìœ ì‚¬í•˜ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤. ëª‡ëª‡ì€ ê·¸ëƒ¥ ì¢Œìš°ë°˜ì „ì„ í•œê²ƒì²˜ëŸ¼ ëŠê»´ì¡ŒìŠµë‹ˆë‹¤. í”íˆ GANì—ì„œ ë§í•˜ëŠ” Model Collapseì™€ ê°™ì€ í˜„ìƒì´ ì•„ë‹Œê°€ ì‹¶ì–´ ë‹¤ì–‘ì„±ì´ ë‚®ì•„ë³´ì´ëŠ” ê²°ê³¼ê°€ ì˜ì•„í–ˆìœ¼ë‚˜, conclusionì—ì„œ ì´ ë‹¨ì ì„ ì–¸ê¸‰í•©ë‹ˆë‹¤.)</p>
</section>
<section id="more-results">
<h2>More Results<a class="headerlink" href="#more-results" title="Permalink to this heading">#</a></h2>
<p><strong>Generalizable to Custom Models</strong></p>
<figure class="align-default" id="id17">
<a class="mb-1 reference internal image-reference" href="../../_images/image131.png"><img alt="ì‹¤í—˜ê²°ê³¼" class="mb-1" src="../../_images/image131.png" style="width: 800px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 284 </span><span class="caption-text">ì‹¤í—˜ê²°ê³¼ <a class="reference external" href="https://arxiv.org/abs/2308.06721">ì¶œì²˜</a></span><a class="headerlink" href="#id17" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p><strong>Structure Control</strong></p>
<figure class="align-default" id="id18">
<a class="mb-1 reference internal image-reference" href="../../_images/image14.png"><img alt="ì‹¤í—˜ê²°ê³¼" class="mb-1" src="../../_images/image14.png" style="width: 800px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 285 </span><span class="caption-text">ì‹¤í—˜ê²°ê³¼ <a class="reference external" href="https://arxiv.org/abs/2308.06721">ì¶œì²˜</a></span><a class="headerlink" href="#id18" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p><strong>Image-to-Image Inpainting</strong></p>
<figure class="align-default" id="id19">
<a class="mb-1 reference internal image-reference" href="../../_images/image15.png"><img alt="ì‹¤í—˜ê²°ê³¼" class="mb-1" src="../../_images/image15.png" style="width: 800px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 286 </span><span class="caption-text">ì‹¤í—˜ê²°ê³¼ <a class="reference external" href="https://arxiv.org/abs/2308.06721">ì¶œì²˜</a></span><a class="headerlink" href="#id19" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p><strong>Multimodal Prompts</strong></p>
<figure class="align-default" id="id20">
<a class="mb-1 reference internal image-reference" href="../../_images/image16.png"><img alt="ì‹¤í—˜ê²°ê³¼" class="mb-1" src="../../_images/image16.png" style="width: 800px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 287 </span><span class="caption-text">ì‹¤í—˜ê²°ê³¼ <a class="reference external" href="https://arxiv.org/abs/2308.06721">ì¶œì²˜</a></span><a class="headerlink" href="#id20" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="ablation-study">
<h2>Ablation Study<a class="headerlink" href="#ablation-study" title="Permalink to this heading">#</a></h2>
<p><strong>Importance of Decoupled Cross-Attention</strong></p>
<figure class="align-default" id="id21">
<a class="mb-1 reference internal image-reference" href="../../_images/image17.png"><img alt="ì‹¤í—˜ê²°ê³¼" class="mb-1" src="../../_images/image17.png" style="width: 800px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 288 </span><span class="caption-text">ì‹¤í—˜ê²°ê³¼ <a class="reference external" href="https://arxiv.org/abs/2308.06721">ì¶œì²˜</a></span><a class="headerlink" href="#id21" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p><strong>Comparison of Fine-grained Features and Global Features</strong></p>
<figure class="align-default" id="id22">
<a class="mb-1 reference internal image-reference" href="../../_images/image181.png"><img alt="ì‹¤í—˜ê²°ê³¼" class="mb-1" src="../../_images/image181.png" style="width: 800px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 289 </span><span class="caption-text">ì‹¤í—˜ê²°ê³¼ <a class="reference external" href="https://arxiv.org/abs/2308.06721">ì¶œì²˜</a></span><a class="headerlink" href="#id22" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>IP-AdapterëŠ” CLIP image encoderë¡œ ë¶€í„° ì¶”ì¶œí•œ global image embeddingë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— reference imageì˜ ì¼ë¶€ íŠ¹ì„±ì„ ìƒì–´ë²„ë¦´ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ fine-grained featureë¥¼ ìœ„í•œ IP-Adapterë¥¼ ë””ìì¸í–ˆë‹¤. ì²«ë²ˆì§¸ë¡œ CLIP image encoderì—ì„œ penultimate layerì—ì„œ grid featureë¥¼ ë½‘ì•„ë‚¸ë‹¤. ì´í›„ ì‘ì€ query networkë¥¼ ì´ìš©í•´ featureë¥¼ í•™ìŠµí•œë‹¤. grid featureë¡œ ë¶€í„° ì •ë³´ë¥¼ ë½‘ì•„ë‚´ê¸° ìœ„í•´ lightweight transformerë¥¼ ì‚¬ìš©í•´ learnable 16 tokenë“¤ì„ ì •ì˜í•œë‹¤. ì´ token featureë“¤ì„ query networkì˜ cross-attention layerì— ì…ë ¥ìœ¼ë¡œ ë„£ì–´ì¤€ë‹¤.</p>
<p>ë‘ adapterì˜ ìƒì„± ê²°ê³¼ë¥¼ ë¹„êµí•˜ë©´ finer-grained featureë¥¼ ì´ìš©í•˜ë©´ ë³´ë‹¤ image promptì™€ ê°€ê¹Œìš´ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤. finer-grained featureëŠ” spatial structure informationì„ í•™ìŠµí•˜ì—¬ ìƒì„±ëœ ì´ë¯¸ì§€ì˜ diversityë¥¼ ë‚®ì¶”ëŠ” ê²°ê³¼ë¥¼ ì´ˆë˜í•  ìˆ˜ ìˆìœ¼ë‚˜ ì¶”ê°€ì ì¸ ì¡°ê±´(text prompt, structure map)ì„ í™œìš©í•˜ë©´ ë‹¤ì–‘í•œ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ìœ„ì˜ ê·¸ë¦¼ê³¼ ê°™ì´ ì‚¬ì§„+poseë¥¼ í†µí•´ ì´ë¯¸ì§€ë¥¼ ìƒì„± í•  ìˆ˜ ìˆë‹¤.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="conclusion">
<h1>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this heading">#</a></h1>
<p>ë³¸ ì—°êµ¬ì—ì„œëŠ” ì‚¬ì „ í•™ìŠµëœ T2I diffusion modelì— image prompt capabilityë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•´ IP-Adapterë¥¼ ì œì•ˆí•œë‹¤. IP-Adapterì˜ í•µì‹¬ ë””ìì¸ì€ decoupled cross-attentionìœ¼ë¡œ image featureë¥¼ ë¶„ë¦¬í•˜ì—¬ cross-attentionì„ ìˆ˜í–‰í•œë‹¤. ê³ ì‘ 22M parameterê°€ ì¶”ê°€ëœ IP-AdapterëŠ” qualitative, quantitative experimental results ëª¨ë‘ì—ì„œ ë¹„ë“±í•˜ê±°ë‚˜ ë‚˜ì€ ì„±ëŠ¥ì„ ë³´ì¸ë‹¤. ë˜í•œ IP-AdapterëŠ” í™•ì¥ì„±ì´ ì¢‹ì•„ í•œë²ˆ í›ˆë ¨ëœ ë’¤, ë‹¤ë¥¸ custom model, structural controllable toolsì— ê³§ë°”ë¡œ ë§ë¶™ì—¬ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤. ë”ìš± ì¤‘ìš”í•œ ì ì€ image promptë¥¼ text promptì™€ ë”ì•  ë©€í‹°ëª¨ë‹¬ ì´ë¯¸ì§€ ìƒì„±ì„ ê°€ëŠ¥ì¼€í•œë‹¤ëŠ” ì ì´ë‹¤.</p>
<p>IP-AdapterëŠ” íš¨ê³¼ì ì´ì§€ë§Œ reference imageì™€ content, styleì´ ìœ ì‚¬í•œ ì´ë¯¸ì§€ë§Œ ìƒì„±í•  ìˆ˜ ìˆë‹¤ëŠ” ë‹¨ì ì´ ìˆì„ ìˆ˜ ìˆë‹¤. ë•Œë¬¸ì— Textual Inversionì´ë‚˜ DreamBoothì™€ ê°™ì´ íŠ¹ì • ì´ë¯¸ì§€ ì§‘í•© í’ì˜ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ì§€ëŠ” ëª»í•œë‹¤. ë¯¸ë˜ì— consistencyë¥¼ í–¥ìƒì‹œí‚¨ ë” ê°•ë ¥í•œ Image prompt adapterë¥¼ ê°œë°œí•˜ëŠ” ê²ƒì´ ëª©í‘œë‹¤.</p>
<p><strong>Textural Inversion</strong></p>
<figure class="align-default" id="id23">
<a class="mb-1 reference internal image-reference" href="../../_images/image191.png"><img alt="ì‹¤í—˜ê²°ê³¼" class="mb-1" src="../../_images/image191.png" style="width: 40%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 290 </span><span class="caption-text">Textural Inversion ë™ì‘ë°©ì‹ <a class="reference external" href="https://arxiv.org/abs/2308.06721">ì¶œì²˜</a></span><a class="headerlink" href="#id23" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id24">
<a class="mb-1 reference internal image-reference" href="../../_images/image20.png"><img alt="ì‹¤í—˜ê²°ê³¼" class="mb-1" src="../../_images/image20.png" style="width: 40%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 291 </span><span class="caption-text">Textural Inversion ì‹¤í—˜ê²°ê³¼ <a class="reference external" href="https://arxiv.org/abs/2308.06721">ì¶œì²˜</a></span><a class="headerlink" href="#id24" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p><strong>DreamBooth</strong></p>
<figure class="align-default" id="id25">
<a class="mb-1 reference internal image-reference" href="../../_images/image211.png"><img alt="ì‹¤í—˜ê²°ê³¼" class="mb-1" src="../../_images/image211.png" style="width: 40%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 292 </span><span class="caption-text">DreamBooth ë™ì‘ ë°©ì‹ <a class="reference external" href="https://arxiv.org/abs/2308.06721">ì¶œì²˜</a></span><a class="headerlink" href="#id25" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id26">
<a class="mb-1 reference internal image-reference" href="../../_images/image22.png"><img alt="ì‹¤í—˜ê²°ê³¼" class="mb-1" src="../../_images/image22.png" style="width: 40%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 293 </span><span class="caption-text">DreamBooth ì‹¤í—˜ê²°ê³¼ <a class="reference external" href="https://arxiv.org/abs/2308.06721">ì¶œì²˜</a></span><a class="headerlink" href="#id26" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./docs\review"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="t2i_adapter.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">T2I-Adapter</p>
      </div>
    </a>
    <a class="right-next"
       href="HyperDreamBooth.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">HyperDreamBooth</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">IP-Adapter</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#related-works">Related Works</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#text-to-image-diffusion-models">Text-to-Image Diffusion Models</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adapters-for-large-models">Adapters for Large Models</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#method">Method</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preliminaries">Preliminaries</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#image-prompt-adapter">Image Prompt Adapter</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#experiments">Experiments</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#experimental-setup">Experimental Setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comparison-with-existing-methods">Comparison with Existing Methods</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#more-results">More Results</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ablation-study">Ablation Study</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By PseudoLab
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      Â© Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>